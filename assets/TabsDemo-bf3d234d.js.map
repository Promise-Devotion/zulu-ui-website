{"version":3,"file":"TabsDemo-bf3d234d.js","sources":["../../src/lib/Tab.vue","../../src/lib/Tabs.vue","../../src/components/TabsDemo.vue"],"sourcesContent":["<template>\n  <div>\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\" setup></script>\n","<template>\n  <div class=\"zulu-tabs\">\n    <div class=\"zulu-tabs-nav\" ref=\"container\">\n      <div\n        class=\"zulu-tabs-nav-item\"\n        v-for=\"(t, index) in titles\"\n        :ref=\"\n          (el) => {\n            if (t === selected) selectedItem = el;\n          }\n        \"\n        @click=\"select(t)\"\n        :class=\"{ selected: t === selected }\"\n        :key=\"index\"\n      >\n        {{ t }}\n      </div>\n      <div class=\"zulu-tabs-nav-indicator\" ref=\"indicator\"></div>\n    </div>\n    <div class=\"zulu-tabs-content\">\n      <component\n        :is=\"current\"\n        :key=\"current.props.title\"\n      />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import Tab from \"./Tab.vue\";\n  import { computed, onMounted, ref, useSlots, watchEffect } from \"vue\";\n  const props = defineProps({\n    selected: String,\n  });\n  const emit = defineEmits([\"update:selected\"]);\n  const slot = useSlots();\n  const selectedItem = ref<HTMLDivElement>(null);\n  const indicator = ref<HTMLDivElement>(null);\n  const container = ref<HTMLDivElement>(null);\n  onMounted(() => {\n    watchEffect(() => {\n      const { width } = selectedItem.value?.getBoundingClientRect();\n      indicator.value.style.width = width + \"px\";\n      const { left: left1 } = container.value.getBoundingClientRect();\n      const { left: left2 } = selectedItem.value.getBoundingClientRect();\n      const left = left2 - left1;\n      indicator.value.style.left = left + \"px\";\n    });\n  });\n  const defaults = slot.default ? slot.default() : [];\n  const current = computed(() => {\n    return defaults.find(\n      (tag) => tag.props && tag.props.title === props.selected\n    );\n  });\n  const select = (title: string) => {\n    emit(\"update:selected\", title);\n  };\n  defaults &&\n    defaults.forEach((element: any) => {\n      if (element.type !== Tab) {\n        throw new Error(\"Tabs子标签必须是Tab\");\n      }\n    });\n  const titles =\n    defaults &&\n    defaults.map((element: any) => {\n      return element.props.title;\n    });\n</script>\n<style lang=\"scss\">\n  $blue: #40a9ff;\n  $color: #333;\n  $border-color: #d9d9d9;\n  .zulu-tabs {\n    &-nav {\n      display: flex;\n      color: $color;\n      border-bottom: 1px solid $border-color;\n      position: relative;\n      &-item {\n        padding: 8px 0;\n        margin: 0 16px;\n        cursor: pointer;\n        &:first-child {\n          margin-left: 0;\n        }\n        &.selected {\n          color: $blue;\n        }\n      }\n      &-indicator {\n        position: absolute;\n        height: 3px;\n        background: $blue;\n        left: 0;\n        bottom: -1px;\n        width: 100px;\n        transition: all 250ms;\n      }\n    }\n    &-content {\n      padding: 8px 0;\n    }\n  }\n</style>\n","<template>\n  <div>tabs</div>\n  <h2>例子1</h2>\n  <Tabs v-model:selected=\"x\">\n    <Tab title=\"导航1\">tab1</Tab>\n    <Tab title=\"导航2234234234\">tab23343432432</Tab>\n  </Tabs>\n</template>\n<script lang=\"ts\" setup>\n  import Tabs from \"../lib/Tabs.vue\";\n  import Tab from \"../lib/Tab.vue\";\n  import { ref } from \"vue\";\n\n  const x = ref(\"导航2234234234\");\n</script>\n<style lang=\"scss\" scoped></style>\n"],"names":["_cache","_openBlock","_createElementBlock","slot","useSlots","selectedItem","ref","indicator","container","onMounted","watchEffect","width","_a","left1","left2","left","defaults","current","computed","tag","props","select","title","emit","element","Tab","titles","x"],"mappings":"4MAGQA,EAAA,QADIC,EAAA,EAAAC,EAAA,MAAA,KAAA,wNCgCJC,EAAOC,IACPC,EAAeC,EAAoB,IAAI,EACvCC,EAAYD,EAAoB,IAAI,EACpCE,EAAYF,EAAoB,IAAI,EAC1CG,EAAU,IAAM,CACdC,EAAY,IAAM,OAChB,KAAM,CAAE,MAAAC,CAAU,GAAAC,EAAAP,EAAa,QAAb,YAAAO,EAAoB,wBAC5BL,EAAA,MAAM,MAAM,MAAQI,EAAQ,KACtC,KAAM,CAAE,KAAME,CAAA,EAAUL,EAAU,MAAM,wBAClC,CAAE,KAAMM,CAAA,EAAUT,EAAa,MAAM,wBACrCU,EAAOD,EAAQD,EACXN,EAAA,MAAM,MAAM,KAAOQ,EAAO,IAAA,CACrC,CAAA,CACF,EACD,MAAMC,EAAWb,EAAK,QAAUA,EAAK,UAAY,GAC3Cc,EAAUC,EAAS,IAChBF,EAAS,KACbG,GAAQA,EAAI,OAASA,EAAI,MAAM,QAAUC,EAAM,QAAA,CAEnD,EACKC,EAAUC,GAAkB,CAChCC,EAAK,kBAAmBD,CAAK,CAAA,EAG7BN,GAAAA,EAAS,QAASQ,GAAiB,CAC7B,GAAAA,EAAQ,OAASC,EACb,MAAA,IAAI,MAAM,eAAe,CACjC,CACD,EACH,MAAMC,EACJV,GACAA,EAAS,IAAKQ,GACLA,EAAQ,MAAM,KACtB,igBCtDG,MAAAG,EAAIrB,EAAI,cAAc"}